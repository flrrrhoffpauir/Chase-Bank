/*******************************************************************************************************//// HeroController//  Created by ,  on 2010-01-14.//  Copyright (c) 2010 __MyCompanyName__. All rights reserved.////                                             ffLL                                      LLGG//                                           LL######EEtt                            ..KK##DD//                                         ii############KK;;                        GG##LL..//                                         ..EE##############ff                    iiWW;;//                                           ....DD############GG                  GGii//                                         LL#####################KK::            ;;EE//                    888    888           GGDDLL#######EE##########WWii          EEtt//                    888    888                    ;;;;  tt############EEttiiiiKKKK//                    888    888                            ;;KK################KK..//  88888b.   8888b.  888888 888888 .d88b.  888d888 88888b.     ..ttffLLWW######KK//  888 "88b     "88b 888    888   d8P  Y8b 888P"   888 "88b            ..KK######;;//  888  888 .d888888 888    888   88888888 888     888  888              ;;######tt //  888 d88P 888  888 Y88b.  Y88b. Y8b.     888     888  888                EE####LL//  88888P"  "Y888888  "Y888  "Y888 "Y8888  888     888  888                ;;####LL //  888                                                                       LL##DD//  888   88888b.  888  888 88888b.d88b.   8888b.                               LL##LL//  888   888 "88b 888  888 888 "888 "88b     "88b                                LL##      //        888  888 888  888 888  888  888 .d888888                                jj##tt//        888 d88P Y88b 888 888  888  888 888  888                                ii##tt    //        88888P"   "Y88888 888  888  888 "Y888888                                  tt;;//        888                                      //        888                                      //        888//  //	Description:////	Public Methods://******************************************************************************************************/package {	// I N C L U D E S	import flash.display.Sprite;	import flash.display.MovieClip;	import flash.display.SimpleButton;	import flash.events.MouseEvent;	import flash.utils.Timer;	import flash.events.TimerEvent;	import flash.text.TextFormat;	import flash.net.navigateToURL;    import flash.net.URLRequest;	import flash.display.LoaderInfo;	import gs.*;	public class HeroController  extends MovieClip {		// P R O P E R T I E S				private var _hearts_cont	:Sprite;		private var _hearts_mask	:Sprite;		private var _grad_cont		:MovieClip;		private var _grad_final		:MovieClip;		private var _xHeartOffset	:Number = -3;		private var _yHeartOffset	:Number = -1;		private var _rows			:Number = 15;		private var _cols			:Number = 22;		private var _myTimer		:Timer;		private var _fmt			:TextFormat;		private static var serverURL		:String ="";				// C O N S T R U C T O R		public function HeroController(){			if(this.loaderInfo.parameters["clickTag1"] != null)			 	serverURL = this.loaderInfo.parameters["clickTag1"];						/*			var paramObj:Object = LoaderInfo(this.root.loaderInfo).parameters;			for (var keyStr in paramObj) {			    var valueStr = String(paramObj[keyStr]);	        	trace("\t" + keyStr + ":\t\t" + valueStr + "\n");			}			*/			var numOfObj		:Number = 4;			for (var a:Number=0; a<(numOfObj+1); a++){				this["obj"+a].visible = false;			}						//hotspot.addEventListener(MouseEvent.MOUSE_OVER, animateCTAtext);			obj0.addEventListener(MouseEvent.MOUSE_OVER, animateCTAtext);						obj0.buttonMode = true;			obj0.mouseChildren = false;			obj0.addEventListener(MouseEvent.MOUSE_UP, defaultExit);			//hotspot.addEventListener(MouseEvent.MOUSE_UP, defaultExit);								// make bkg			with(_bkg.graphics){				beginFill(0xF2ECF3, 1);				moveTo(0,0);				lineTo(716,0);				lineTo(716,300);				lineTo(0,300);				lineTo(0,0);				endFill();			}			//addChild(_bkg);						//make hearts			_hearts_cont = new Sprite();			_hearts_mask = new Sprite();			_bkg.addChild(_hearts_cont);						var xMarker:Number =_xHeartOffset;			var yMarker:Number =_yHeartOffset;			var t:Sprite;			var s:Sprite;						for(var i:Number =0; i<_rows;i++){				if(i%2 == 0) xMarker = _xHeartOffset;				else xMarker = -18 + _xHeartOffset;												for(var j:Number =0; j<_cols;j++){					t = new Heart_mc();					t.alpha = .3;					t.x = xMarker;					t.y = yMarker;										s = new Heart_mc();					s.alpha = .3;					s.x = xMarker;					s.y = yMarker;										_hearts_cont.addChild(t);					_hearts_mask.addChild(s);					xMarker +=35;				}				yMarker +=20;								}						_grad_cont = new Gradient_move();			_bkg.addChild(_grad_cont);			_grad_cont.gotoAndPlay(1);			_grad_cont.mask = _hearts_mask;						_grad_final = new Gradientfinal();			_bkg.addChild(_grad_final);			_grad_final.mask = _hearts_mask;			_grad_final.alpha = 0;									animateCopy();		}		// G E T T E R S  &  S E T T E R S						// M E T H O D S				private function animateNumbers():void{			obj2.num.text = "1";			//trace("ffffff")			_myTimer = new Timer(100, 24);			_myTimer.addEventListener(TimerEvent.TIMER, timerHandler);			_myTimer.start();		}		private function animateCopy():void{			var scope = this;			TweenLite.from(obj1, 1, {x:"-20", autoAlpha:0,				onComplete:function(){					scope.animateNumbers();				}			});			TweenLite.from(obj2, 1, {x:"20", autoAlpha:0, delay:.5});			TweenLite.from(obj2.percent, .5, {scaleX:.1, scaleY:.1, delay:.5});					TweenLite.from(obj3, 1, {y:"-20", autoAlpha:0, delay:3.5});			TweenLite.from(obj4, 1, {x:"-20", autoAlpha:0, delay:4});						TweenLite.from(obj0, 1, {autoAlpha:0, delay:4.25,				onComplete:function(){					scope.animateCTAtext(new MouseEvent(MouseEvent.MOUSE_OVER) );				}						});						TweenLite.to(_grad_final, 1, {alpha:1, delay:5});			TweenLite.to(_hearts_cont, 1, {alpha:0, delay:5,				onComplete: function(){					scope._grad_cont.stop();				}							});								}										// L I S T E N E R S		private function animateCTAtext(e:MouseEvent):void {			obj0.gotoAndPlay(1);				//	trace(" " + serverURL)		}		private function defaultExit(e:MouseEvent):void {			trace("djksdhkjs 2 " + serverURL)			var url:String = serverURL;			var request:URLRequest = new URLRequest(url);						try {            				navigateToURL(request);			}			catch (e:Error) {				// handle error here			}			//getURL(_root.clickTag, "_blank");		}				private function timerHandler(e:TimerEvent):void{			var n:Number = obj2.num.text;			n++;			obj2.num.text = n;						var _fmt:TextFormat = new TextFormat();			_fmt.letterSpacing = -7;									obj2.num.setTextFormat(_fmt);		}	}}