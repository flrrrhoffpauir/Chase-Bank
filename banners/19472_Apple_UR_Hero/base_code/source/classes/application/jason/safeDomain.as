package application.jason{	import flash.net.URLLoader;	import flash.net.URLRequest;	import flash.events.Event;	public class safeDomain {		static public  var domains:Array;						public function safeDomain() {							}						public static function test_URL(_clients_url:String, _xml:XML) {															for each (var safeURL:XML in _xml.safe_url.url_path) {								//opitonal / fwdSlash to doamin check				var _clients_url_slash:String = _clients_url+"/";								if (_clients_url.indexOf(safeURL) == 0 || _clients_url_slash.indexOf(safeURL) == 0 ){					trace(_clients_url+" - "+safeURL);					return true;				}//if			}//for					}//test_URL						public static function containerLinks(rPath:String, hsLink:String, _xml:XML){			var la:Array = new Array();			var region:String;			var returnLink:String;						// Set path to region			switch(rPath){				case "https://chaseonlineq1.chase.com/":					region = "QA_Domain";					break;								case "https://chaseonlineq3.chase.com/":					region = "Breakfix_Domain";					break;								case "https://chaseonline.chase.com/":					region = "PROD_Domain";					break;									default:					region = "PROD_Domain";					break;			}						//switch set la with token			switch(region){				case "QA_Domain":					la[0] = _xml.vender_links.QA_Domain.LoyaltySecureRoot.text();					la[1] = _xml.vender_links.QA_Domain.LoyaltyReardenRoot.text();					la[2] = _xml.vender_links.QA_Domain.LoyaltyCLSRoot.text();					la[3] = _xml.vender_links.QA_Domain.LoyaltyMallNetworksRoot.text();					la[4] = _xml.vender_links.QA_Domain.LoyaltyB2SRoot.text();					la[5] = _xml.vender_links.QA_Domain.LoyaltyTruitionRoot.text();					break;								case "Breakfix_Domain":					la[0] = _xml.vender_links.Breakfix_Domain.LoyaltySecureRoot.text();					la[1] = _xml.vender_links.Breakfix_Domain.LoyaltyReardenRoot.text();					la[2] = _xml.vender_links.Breakfix_Domain.LoyaltyCLSRoot.text();					la[3] = _xml.vender_links.Breakfix_Domain.LoyaltyMallNetworksRoot.text();					la[4] = _xml.vender_links.Breakfix_Domain.LoyaltyB2SRoot.text();					la[5] = _xml.vender_links.Breakfix_Domain.LoyaltyTruitionRoot.text();					break;								case "PROD_Domain":					la[0] = _xml.vender_links.PROD_Domain.LoyaltySecureRoot.text();					la[1] = _xml.vender_links.PROD_Domain.LoyaltyReardenRoot.text();					la[2] = _xml.vender_links.PROD_Domain.LoyaltyCLSRoot.text();					la[3] = _xml.vender_links.PROD_Domain.LoyaltyMallNetworksRoot.text();					la[4] = _xml.vender_links.PROD_Domain.LoyaltyB2SRoot.text();					la[5] = _xml.vender_links.PROD_Domain.LoyaltyTruitionRoot.text();					break;							}									/**********************************************				set up patterns for token replace			**********************************************/			var LoyaltySecureRoot:String = "%LoyaltySecureRoot%";			var LoyaltyReardenRoot:String = "%LoyaltyReardenRoot%";			var LoyaltyCLSRoot:String = "%LoyaltyCLSRoot%";			var LoyaltyMallNetworksRoot:String = "%LoyaltyMallNetworksRoot%";			var LoyaltyB2SRoot:String = "%LoyaltyB2SRoot%";			var LoyaltyTruitionRoot:String = "%LoyaltyTruitionRoot%";						var LoyaltySecureRootPattern:RegExp = new RegExp(LoyaltySecureRoot);			var LoyaltyReardenRootPattern:RegExp = new RegExp(LoyaltyReardenRoot);			var LoyaltyCLSRootPattern:RegExp = new RegExp(LoyaltyCLSRoot);			var LoyaltyMallNetworksRootPattern:RegExp = new RegExp(LoyaltyMallNetworksRoot);			var LoyaltyB2SRootPattern:RegExp = new RegExp(LoyaltyB2SRoot);			var LoyaltyTruitionRootPattern:RegExp = new RegExp(LoyaltyTruitionRoot);						var childSplit:Array = hsLink.split(/Root/);				switch(childSplit[0]){					case "%LoyaltySecure":						returnLink = hsLink.replace(LoyaltySecureRootPattern, la[0] );						break;										case "%LoyaltyRearden":						returnLink = hsLink.replace(LoyaltyReardenRootPattern, la[1] );						break;										case "%LoyaltyCLS":						returnLink = hsLink.replace(LoyaltyCLSRootPattern, la[2] );						break;										case "%LoyaltyMallNetworks":						returnLink = hsLink.replace(LoyaltyMallNetworksRootPattern, la[3] );						break;										case "%LoyaltyB2S":						returnLink = hsLink.replace(LoyaltyB2SRootPattern, la[4] );						break;										case "%LoyaltyTruition":						returnLink = hsLink.replace(LoyaltyTruitionRootPattern, la[5] );						break;											default:						returnLink = hsLink;						break;									}								return returnLink;					}			}//class}//package	if(safeURL == _clients_url)