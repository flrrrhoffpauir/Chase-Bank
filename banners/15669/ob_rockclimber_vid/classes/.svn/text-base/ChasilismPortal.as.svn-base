/** *	ChasilismPortal Class, Created 2007-12-05 *	Copyright (c) 2007 T3. All rights reserved. * *	@author Timothy Harold *	@version 1.0.0 *	*/import mx.utils.Delegate;class classes.ChasilismPortal extends MovieClip{	// static properties		// private properties	private var __class_ref:MovieClip;	private var __xpos:Number;	private var __ypos:Number;	private var __alpha:Number;	private var __speed:Number;	private var __skew:Number;	private var __skewSpeed:Number;	private var __rotation:Number;	private var __negX:Number;	private var __posX:Number;	private var __negY:Number;	private var __posY:Number;	private var __growing:Boolean;			// public properties	public var mcPortalStill:MovieClip; // the static (mask) MovieClip			// Class constructor	/**	 *  ChasilismPortal Constructor	 */	function ChasilismPortal()	{				// point to this Class (for future use?)		__class_ref = this;				__growing = false;				// let's begin, shall we play a game?		init();	}		// private methods  ------------------------------------------------------------------------------	/**	 *  Initializes the default rate of spin, rotation, mouse "hot zone" coords, etc.	 */	private function init():Void	{		// 		__speed = 10;				// skew		__skew = Math.random() * 2;				// speed		__skewSpeed = .017;				// scale			//this._xscale = this._yscale = Math.round(Math.random() * 100) + 1;				// rotation		__rotation = Math.random();				// mouse zone coords		__negX = -(_width / 2);		__posX = _width / 2;		__negY = -(_height / 2);		__posY = _height / 2;						// start the movement		mcPortalStill.onEnterFrame = Delegate.create(__class_ref, movement);	}			/**	 *  Method that defines the basic portal movement, mouse interaction.	 */	private function movement():Void	{		if(__skewSpeed <= .017)		{			__skewSpeed = .017;		}		else		{			__skewSpeed *= .95;		}		__skew += __skewSpeed;		mcPortalStill._rotation += __rotation;		mcPortalStill._xscale = Math.cos(__skew) * 100;		//mcPortalStill._yscale = Math.sin(this.__skew) * 100;				if(_xmouse > __negX && _xmouse < __posX && _ymouse > __negY && _ymouse < __posY)		{			//trace("mouse is in the 100 px box of: " + __scope);			__skewSpeed = Math.abs(_xmouse * .01);		}				// portal sparks animation		if(__growing)		{			this._xscale += 1;			this._yscale += 1;			this._alpha -= 20;			if(this._xscale >= 160 || this._alpha <= 0)			{				this.removeMovieClip();			}		}	}		// public methods  -------------------------------------------------------------------------------	/**	 *  Turns on the switch to cause the portals to grow	 */	public function startGrowing():Void	{		__growing = true;	}		 	// handlers/listeners  ---------------------------------------------------------------------------		// end}